"use strict";(self.webpackChunkenvironment_angular=self.webpackChunkenvironment_angular||[]).push([[262],{6262:(be,x,c)=>{c.r(x),c.d(x,{AuthModule:()=>he});var p=c(177),M=c(3126),l=c(430),e=c(3953);const S=["root",""];let _=(()=>{class t{constructor(){}ngOnInit(){}ngOnDestroy(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=e.VBU({type:t,selectors:[["body","root",""]],attrs:S,decls:1,vars:0,template:function(r,s){1&r&&e.nrm(0,"router-outlet")},dependencies:[l.n3],styles:["[_nghost-%COMP%]    {height:100%}"]})}return t})();var d=c(7673);let R=(()=>{class t{title="iToken App ****987";token="664329";constructor(){}ngOnInit(){}ngOnDestroy(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=e.VBU({type:t,selectors:[["auth-itoken"]],inputs:{title:"title",token:"token"},decls:8,vars:2,consts:[[1,"p-4"],[1,"d-flex","justify-content-center","align-items-center"],[1,"token-container","position-absolute","d-flex","flex-column"],[1,"fs-8","text-muted",3,"innerHTML"],[1,"fs-2","fw-bold","text-primary",2,"letter-spacing","0.5rem",3,"innerHTML"],[1,"circle","animation-circle"],["cx","50%","cy","50%","r","50%","stroke","#DDD","stroke-width","8","fill","none",1,"circle-nuclear","circle-back"],["cx","50%","cy","50%","r","50%","stroke","#DDD","stroke-width","8","fill","none",1,"circle-nuclear"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"span",3)(4,"span",4),e.k0s(),e.qSk(),e.j41(5,"svg",5),e.nrm(6,"circle",6)(7,"circle",7),e.k0s()()()),2&r&&(e.R7$(3),e.Y8G("innerHTML",s.title,e.npT),e.R7$(),e.Y8G("innerHTML",s.token,e.npT))},styles:[".progress-circular[_ngcontent-%COMP%]{width:100%;display:flex;object-fit:cover;border-radius:50%;aspect-ratio:1/1;align-items:center;justify-content:center;border:solid 1px #F00;transition:all 3s linear}.circle[_ngcontent-%COMP%]{width:100%;aspect-ratio:1/1;object-fit:cover;display:flex;border-radius:50%;background-color:transparent!important;border:solid 4px transparent;stroke:#0a72eb;stroke-width:6px;transition:all 1s linear;r:calc(50% - 4px);stroke-dasharray:314%;stroke-dashoffset:314%;transform:rotate(-90deg);transform-origin:center}.circle[_ngcontent-%COMP%]   .circle-nuclear[_ngcontent-%COMP%]{r:inherit!important;object-fit:inherit;stroke:inherit!important;stroke-width:inherit!important;aspect-ratio:inherit!important;background-color:inherit}.circle[_ngcontent-%COMP%]   .circle-back[_ngcontent-%COMP%]{stroke-dashoffset:0;r:inherit!important;object-fit:inherit;stroke:#ffd179e6!important;stroke-width:inherit!important;aspect-ratio:inherit!important;background-color:inherit}.animation-circle[_ngcontent-%COMP%]{animation-duration:30s,1.5s;animation-fill-mode:backwards,backwards;animation-iteration-count:infinite,infinite;animation-timing-function:linear,ease-out;animation-name:_ngcontent-%COMP%_animation-circle,_ngcontent-%COMP%_shadow-rotate}.token-container[_ngcontent-%COMP%]{z-index:1;transform:translateY(-8px)}@keyframes _ngcontent-%COMP%_animation-circle{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_shadow-rotate{0%{box-shadow:0 0 #ffd17980 inset,0 0 #ffd17980}to{box-shadow:0 0 5px 24px #ffd17900 inset,0 0 5px 32px #ffd17900}}"]})}return t})(),I=(()=>{class t{loading$=(0,d.of)(!1);unsubscribers=[];ngOnDestroy(){this.unsubscribers.forEach(n=>n.unsubscribe())}submit(){console.log("SUBMIT")}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=e.VBU({type:t,selectors:[["auth-my-token"]],decls:21,vars:0,consts:[[1,"row","p-0","m-0","block-center","block-full"],[1,"col-12","pb-5","pt-4","mb-3","form-width"],[1,"col-12","my-4","py-2"],[1,"fw-bold","text-muted"],[1,"fs-6","text-muted","fw-semibold"],[1,"d-flex","gap-3","justify-content-between","my-4"],["routerLink","/auth/itoken",1,"btn","btn-default","px-3","flex-fill"],[1,"bi","bi-key","me-2","text-warning"],["routerLink","/auth/qrcode",1,"btn","btn-default","px-3","flex-fill"],[1,"bi","bi-qr-code","me-2","text-info"],[1,"my-4"],[1,"block-center","fw-semibold","py-4","my-4"],[1,"text-muted","fs-7","d-flex","flex-row","align-items-center"],[1,"bi","bi-question-circle","fs-5","me-2","text-warning"],["routerLink","/auth/questions",1,"link-primary","mx-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4,"Meu iToken"),e.k0s(),e.j41(5,"small",4),e.EFF(6,"Token para verifica\xe7\xe3o de 2 etapas"),e.k0s()(),e.j41(7,"div",5)(8,"a",6),e.nrm(9,"i",7),e.EFF(10,"Aplicativo"),e.k0s(),e.j41(11,"a",8),e.nrm(12,"i",9),e.EFF(13,"QR Code"),e.k0s()(),e.j41(14,"div",10),e.nrm(15,"auth-itoken"),e.k0s(),e.j41(16,"div",11)(17,"span",12),e.nrm(18,"i",13),e.j41(19,"a",14),e.EFF(20,"D\xfavicas?"),e.k0s()()()()())},dependencies:[l.Wk,R],styles:[".form-width[_ngcontent-%COMP%]{max-width:460px}"]})}return t})();var a=c(4341),y=c(8141),k=c(6697);const L=new RegExp(/[\xe1\xe0\xe3\xe2\xe4\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf3\xf2\xf5\xf4\xf6\xfa\xf9\xfb\xfc\xe7\xf1]/),O=new RegExp(/[\xc1\xc0\xc3\xc2\xc4\xc9\xc8\xca\xcb\xcd\xcc\xce\xcf\xd3\xd2\xd5\xd4\xd6\xda\xd9\xdb\xdc\xc7\xd1]/),G=new RegExp(/[\u0300-\u036f]/),P=new RegExp(/[\xe1\xe0\xe3\xe2\xe4\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf3\xf2\xf5\xf4\xf6\xfa\xf9\xfb\xfc\xe7\xf1\xc1\xc0\xc3\xc2\xc4\xc9\xc8\xca\xcb\xcd\xcc\xce\xcf\xd3\xd2\xd5\xd4\xd6\xda\xd9\xdb\xdc\xc7\xd1\xb4`^~\xa8\u0300-\u036f]/),w=new RegExp(/[a-z\xe1\xe0\xe3\xe2\xe4\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf3\xf2\xf5\xf4\xf6\xfa\xf9\xfb\xfc\xe7\xf1]/),v=new RegExp(/[A-Z\xc1\xc0\xc3\xc2\xc4\xc9\xc8\xca\xcb\xcd\xcc\xce\xcf\xd3\xd2\xd5\xd4\xd6\xda\xd9\xdb\xdc\xc7\xd1]/),U=new RegExp(/[a-zA-Z\xe1\xe0\xe3\xe2\xe4\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf3\xf2\xf5\xf4\xf6\xfa\xf9\xfb\xfc\xe7\xf1\xc1\xc0\xc3\xc2\xc4\xc9\xc8\xca\xcb\xcd\xcc\xce\xcf\xd3\xd2\xd5\xd4\xd6\xda\xd9\xdb\xdc\xc7\xd1\u0300-\u036f]/),F=new RegExp(/['"!@#$%\xa8\xac&*()\-+=\xb4`/[/\]/{}/_:;?/\\\xba\xaa\xa7\xb0><|\u20a2\xb0\xb9\xb2\xb3\xa3\xa2\xac\xa7\xaa\xa1\xa4\u20ac\u2018\u2019\xa5\xd7\xdf\xf0\xae\xf8\xb6\xe6\xa9\xb5\xbf]/),N=new RegExp(/['"!@#$%\xa8\xac&*\=\xb4`/[/\]/{}/_:;?/\\\xba\xaa\xa7\xb0><|\u20a2\xb0\xb9\xb2\xb3\xa3\xa2\xac\xa7\xaa\xa1\xa4\u20ac\u2018\u2019\xa5\xd7\xdf\xf0\xae\xf8\xb6\xe6\xa9\xb5\xbf]/),D=new RegExp(/['"!#$%\xa8\xac&*()\+=\xb4`/[/\]/{}/:;?/\\\xba\xaa\xa7\xb0><|\u20a2\xb0\xb9\xb2\xb3\xa3\xa2\xac\xa7\xaa\xa1\xa4\u20ac\u2018\u2019\xa5\xd7\xdf\xf0\xae\xf8\xb6\xe6\xa9\xb5\xbf]/),E=new RegExp(/[0-9]/),A=new RegExp(/^[a-z\xe1\xe0\xe3\xe2\xe4\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf3\xf2\xf5\xf4\xf6\xfa\xf9\xfb\xfc\xe7\xf1\s]+$/),Y=new RegExp(/^[A-Z\xc1\xc0\xc3\xc2\xc4\xc9\xc8\xca\xcb\xcd\xcc\xce\xcf\xd3\xd2\xd5\xd4\xd6\xda\xd9\xdb\xdc\xc7\xd1\s]+$/),q=new RegExp(/^[a-z\xe1\xe0\xe3\xe2\xe4\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf3\xf2\xf5\xf4\xf6\xfa\xf9\xfb\xfc\xe7\xf1A-Z\xc1\xc0\xc3\xc2\xc4\xc9\xc8\xca\xcb\xcd\xcc\xce\xcf\xd3\xd2\xd5\xd4\xd6\xda\xd9\xdb\xdc\xc7\xd1\s\u0300-\u036f ]+$/),V=new RegExp(/^[0-9\s]+$/),H=new RegExp(/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/),J=new RegExp(/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/),z=new RegExp(/(^\d{3}\.\d{3}\.\d{3}\-\d{2}$)|(^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$)/),B=new RegExp(/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)+\w{2,})$/),j=t=>{let o=0;return String(t).length>=8&&o++,E.test(t)&&o++,F.test(t)&&o++,w.test(t)&&o++,v.test(t)&&o++,o};class u{formGoup;control;constructor(o,n){this.formGoup=o,this.control=n}static messages(o){return n=>(Object.defineProperty(n,"errorMessages",{enumerable:!0,configurable:!1,writable:!1,value:o}),null)}static hasAccentLowercase(o){return L.test(o.value)?{hasAccentLowercase:!0}:null}static hasAccentUppercase(o){return O.test(o.value)?{hasAccentUppercase:!0}:null}static hasAccentDefault(o){return G.test(String(o.value).normalize("NFD"))?{hasAccentDefault:!0}:null}static hasAccent(o){return P.test(o.value)?{hasAccent:!0}:null}static hasLowercase(o){return w.test(o.value)?{hasLowercase:!0}:null}static hasUppercase(o){return v.test(o.value)?{hasUppercase:!0}:null}static hasLetter(o){return U.test(o.value)?{hasLetter:!0}:null}static hasSpecialChar(o){return F.test(o.value)?{hasSpecialChar:!0}:null}static hasSpecialCharToPhone(o){return N.test(o.value)?{hasSpecialCharToPhone:!0}:null}static hasSpecialCharToEmail(o){return D.test(o.value)?{hasSpecialCharToEmail:!0}:null}static hasNumber(o){return E.test(o.value)?{hasNumber:!0}:null}static onlyLowercase(o){return A.test(o.value)?null:{onlyLowercase:!0}}static onlyUppercase(o){return Y.test(o.value)?null:{onlyUppercase:!0}}static onlyLetter(o){return q.test(o.value)?null:{onlyLetter:!0}}static onlyNumber(o){return V.test(o.value)?null:{onlyNumber:!0}}static hasCpfFormat(o){return H.test(o.value)?null:{hasCpfFormat:!0}}static hasCnpjFormat(o){return J.test(o.value)?null:{hasCnpjFormat:!0}}static hasDocumentFormat(o){return z.test(o.value)?null:{hasDocumentFormat:!0}}static isEmail(o){return B.test(o.value)?null:{isEmail:!0}}static password(o){return t=o.value,String(t).length>=8&&E.test(t)&&F.test(t)&&w.test(t)&&v.test(t)?null:{password:!0};var t}static matchesControlName(o){return n=>{const r=n?.parent;if(!r)return null;const s=r.get(o)?.value;return s&&n.value!==s?{matchesControlName:!0}:null}}}var g=c(1852),f=c(4314),m=c(8615);const W=t=>({opacity:t}),Q=(t,o)=>({"background-color":t,height:o});function Z(t,o){if(1&t&&(e.qex(0),e.nrm(1,"span",5),e.bVm()),2&t){const n=o.$implicit,r=e.XpG();e.R7$(),e.Y8G("ngStyle",e.l_i(1,Q,r.colorStep(n),r.height))}}let C=(()=>{class t{min=0;max=100;size=6;steps=5;score=0;opacity=1;color="rgba(0,155,0, 0.8)";background="rgba(0,0,40, 0.1)";message="Use 8 ou mais caracteres misturando letras mai\xfasculas, min\xfasculas, s\xedmbolos & n\xfameros.";step=new e.bkB;get range(){this.max<this.min&&(this.max=this.min);let n=this.max-this.min;return n<0&&(n=0),n>this.max&&(n=this.max),n}get unitsPerStep(){return this.steps<1&&(this.steps=1),this.range/this.steps}get currentStep(){let n=Number(Number(Math.floor(this.score/this.unitsPerStep)).toFixed());return n>this.steps&&(n=this.steps),n<0&&(n=0),this.step.emit(n),n}get listSteps(){return Array.from({length:this.steps},(n,r)=>r+1)}constructor(){}ngOnInit(){}ngOnDestroy(){}colorStep(n){return n<=this.currentStep?this.color:this.background}get height(){return`${this.size}px`}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=e.VBU({type:t,selectors:[["auth-score"]],inputs:{min:"min",max:"max",size:"size",steps:"steps",score:"score",opacity:"opacity",color:"color",background:"background",message:"message"},outputs:{step:"step"},decls:5,vars:5,consts:[[1,"d-flex","flex-column","px-1",3,"ngStyle"],[1,"d-flex","flex-row","gap-1",2,"cursor","progress"],[4,"ngFor","ngForOf"],[1,"d-flex","text-muted","fs-8","p-0","pt-1","text-start",2,"cursor","pointer","opacity","0.6"],["clas","",3,"innerHTML"],[1,"flex-fill","rounded-1",3,"ngStyle"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,Z,2,4,"ng-container",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"span",4),e.k0s()()),2&r&&(e.Y8G("ngStyle",e.eq3(3,W,s.opacity)),e.R7$(2),e.Y8G("ngForOf",s.listSteps),e.R7$(2),e.Y8G("innerHTML",s.message,e.npT))},dependencies:[p.Sq,p.B3],encapsulation:2})}return t})();function K(t,o){if(1&t&&(e.qex(0),e.j41(1,"app-alert",20),e.EFF(2),e.k0s(),e.bVm()),2&t){const n=e.XpG();e.R7$(2),e.JRh(n.errorMessage)}}let ee=(()=>{class t{authService;route;router;isLoading$=(0,d.of)(!1);unsubscribers=[];errorMessage="";score=0;form=new a.gE({password:new a.MJ("Alterar@123",[a.k0.required,u.password,u.messages({required:"A senha \xe9 obrigat\xf3ria"})]),confirmPassoword:new a.MJ("Alterar@123",[a.k0.required,u.matchesControlName("password"),u.messages({required:"A confirma\xe7\xe3o de senha \xe9 obrigat\xf3ria",matchesControlName:"As senha precisam ser id\xeanticas."})]),optin:new a.MJ(!1,[a.k0.required,u.messages({required:"O termo de aceite \xe9 obrigat\xf3rio"})])});constructor(n,r,s){this.authService=n,this.route=r,this.router=s,this.isLoading$=this.authService.loading$}ngOnInit(){this.changePassword()}ngOnDestroy(){this.unsubscribers.forEach(n=>n.unsubscribe())}changePassword(){this.form.get("password")?.valueChanges.pipe((0,y.M)(n=>this.score=j(n))).subscribe()}newPassword(){if(this.form.invalid)return void(this.errorMessage="\xc9 obrigat\xf3rio informar a senha e a confirma\xe7\xf5a da senha!");const{password:n,optin:r}=this.form.value;if(!n)return void(this.errorMessage="\xc9 obrigat\xf3rio informar a senha!");if(!r)return void(this.errorMessage="\xc9 obrigat\xf3rio marcar o aceite dos termos!");this.errorMessage="";const s=this.authService.changePassword(n).pipe((0,k.s)(1)).subscribe({next:()=>this.router.navigate(["/auth/signin"]),error:i=>this.errorMessage=i.message||""});this.unsubscribers.push(s)}static \u0275fac=function(r){return new(r||t)(e.rXU(g.u),e.rXU(l.nX),e.rXU(l.Ix))};static \u0275cmp=e.VBU({type:t,selectors:[["auth-new-password"]],decls:35,vars:15,consts:[[1,"row","p-0","m-0","block-center","block-full"],[1,"col-12","pb-5","pt-4","mb-3","form-width"],[1,"col-12","my-4","py-4"],[1,"fw-bold"],[1,"fs-6","text-muted","fw-semibold"],[1,"text-danger"],[1,"block-center","fw-semibold","py-2"],[1,"text-muted","fs-7"],["routerLink","/auth/signin",1,"link-primary","ms-1"],["autocomplete","off",1,"form","m-auto","my-4","py-2",3,"formGroup"],[4,"ngIf"],[1,"mb-3"],["type","password","controlName","password","placeholder","Digite a senha",3,"keyup.enter","readonly"],[1,"mb-4","pb-1"],[3,"steps","max","score"],["type","password","controlName","confirmPassoword","placeholder","Repita o a senha",3,"keyup.enter","readonly"],["position","end","type","checkbox","controlName","optin","label","Eu concordo com os termos",3,"readonly"],[1,"text-center","my-2","d-flex","justify-content-end"],["size","sm",3,"onclick","loading"],[1,"block-center","fw-semibold","py-4","my-4"],["type","danger"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4,"Nova Senha"),e.k0s(),e.j41(5,"small",4)(6,"span",5),e.EFF(7,"IT"),e.k0s(),e.EFF(8,"Block - Servi\xe7os Tecnol\xf3gicos"),e.k0s()(),e.j41(9,"div",6)(10,"span",7),e.EFF(11,"Voc\xea j\xe1 redefiniu a senha?"),e.j41(12,"a",8),e.EFF(13,"Entrar"),e.k0s()()(),e.j41(14,"form",9),e.DNE(15,K,3,1,"ng-container",10),e.j41(16,"div",11)(17,"app-input",12),e.nI1(18,"async"),e.bIt("keyup.enter",function(){return s.newPassword()}),e.k0s()(),e.j41(19,"div",13),e.nrm(20,"auth-score",14),e.k0s(),e.j41(21,"div",11)(22,"app-input",15),e.nI1(23,"async"),e.bIt("keyup.enter",function(){return s.newPassword()}),e.k0s()(),e.j41(24,"div",11),e.nrm(25,"app-input-checkbox",16),e.nI1(26,"async"),e.k0s(),e.j41(27,"div",17)(28,"app-button",18),e.bIt("onclick",function(){return s.newPassword()}),e.EFF(29,"Redefinir a senha"),e.k0s()()(),e.j41(30,"div",19)(31,"span",7),e.EFF(32,"J\xe1 tem uma conta?"),e.j41(33,"a",8),e.EFF(34,"Entrar"),e.k0s()()()()()),2&r&&(e.R7$(14),e.Y8G("formGroup",s.form),e.R7$(),e.Y8G("ngIf",s.errorMessage),e.R7$(2),e.Y8G("readonly",!!e.bMT(18,9,s.isLoading$)),e.R7$(3),e.Y8G("steps",10)("max",5)("score",s.score),e.R7$(2),e.Y8G("readonly",!!e.bMT(23,11,s.isLoading$)),e.R7$(3),e.Y8G("readonly",!!e.bMT(26,13,s.isLoading$)),e.R7$(3),e.Y8G("loading",s.isLoading$))},dependencies:[l.Wk,p.bT,a.qT,a.cb,a.j4,f.Ri,f.Sj,m.Qp,m.Cy,C,p.Jj],styles:[".form-width[_ngcontent-%COMP%]{max-width:460px}"]})}return t})();var te=c(1594),h=function(t){return t[t.NotSubmitted=0]="NotSubmitted",t[t.HasError=1]="HasError",t[t.NoError=2]="NoError",t}(h||{});function ne(t,o){if(1&t&&(e.qex(0),e.j41(1,"app-alert",14),e.EFF(2),e.k0s(),e.bVm()),2&t){const n=e.XpG();e.R7$(2),e.JRh(n.errorMessage)}}let re=(()=>{class t{authService;isLoading$=(0,d.of)(!1);unsubscribers=[];errorState=h.NotSubmitted;errorStates=h;errorMessage="";form=new a.gE({email:new a.MJ(null,[a.k0.required,a.k0.email])});constructor(n){this.authService=n,this.isLoading$=this.authService.loading$}ngOnInit(){}ngOnDestroy(){this.unsubscribers.forEach(n=>n.unsubscribe())}submit(){if(this.errorState=h.NotSubmitted,this.form.invalid)return;const{email:n}=this.form.value,r=this.authService.forgotPassword(n).pipe((0,te.$)()).subscribe(s=>{this.errorState=s?h.NoError:h.HasError});this.unsubscribers.push(r)}static \u0275fac=function(r){return new(r||t)(e.rXU(g.u))};static \u0275cmp=e.VBU({type:t,selectors:[["auth-reset-password"]],decls:19,vars:6,consts:[[1,"row","p-0","m-0","block-center","block-full"],[1,"col-12","pb-5","pt-4","mb-3","form-width"],[1,"col-12","my-3","py-3"],[1,"fw-bold"],[1,"fs-6","text-muted","fw-semibold"],["autocomplete","off",1,"form","m-auto","my-4","py-2","row",3,"formGroup"],[4,"ngIf"],[1,"col-12","mb-4"],["controlName","email","placeholder","E-mail",3,"keyup.enter","readonly"],[1,"col-6","m-auto"],[3,"onClick","loading"],[1,"fs-7"],[1,"col-12","mt-5","pt-5","d-flex","justify-content-center"],["routerLink","/auth/signin",1,"link-primary","fs-7","fw-semibold","m-0","p-0","me-1","d-flex","justify-content-end"],["type","danger"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4,"Esqueceu a senha?"),e.k0s(),e.j41(5,"small",4),e.EFF(6,"Insira seu e-mail para redefinir sua senha"),e.k0s()(),e.j41(7,"form",5),e.DNE(8,ne,3,1,"ng-container",6),e.j41(9,"div",7)(10,"app-input",8),e.nI1(11,"async"),e.bIt("keyup.enter",function(){return s.submit()}),e.k0s()(),e.j41(12,"div",9)(13,"app-button",10),e.bIt("onClick",function(){return s.submit()}),e.j41(14,"span",11),e.EFF(15,"Enviar pedido de senha"),e.k0s()()(),e.j41(16,"div",12)(17,"a",13),e.EFF(18,"Voltar para a tela de login?"),e.k0s()()()()()),2&r&&(e.R7$(7),e.Y8G("formGroup",s.form),e.R7$(),e.Y8G("ngIf",s.errorMessage),e.R7$(2),e.Y8G("readonly",!!e.bMT(11,4,s.isLoading$)),e.R7$(3),e.Y8G("loading",s.isLoading$))},dependencies:[l.Wk,p.bT,a.qT,a.cb,a.j4,f.Sj,m.Qp,m.Cy,p.Jj],styles:[".form-width[_ngcontent-%COMP%]{max-width:460px}"]})}return t})();var b=c(4412),se=c(7219),oe=c(1626);const $=new b.t(null);let T=(()=>{class t extends se.d{http;accessToken="";refreshToken="";user=null;get error$(){return $.asObservable()}_accessToken$=new b.t("");get accessToken$(){return this._accessToken$.asObservable()}_refreshToken$=new b.t("");get refreshToken$(){return this._refreshToken$.asObservable()}_revokeToken$=new b.t(!1);get revokeToken$(){return this._revokeToken$.asObservable()}_user$=new b.t(null);get user$(){return this._user$.asObservable()}constructor(n){super(),this.http=n}static config(){}static onError(n){$.next(n),console.error("Error Provider: ",n)}signInWithGoogle(){}refreshTokenWithGoogle(){}signOut(){}getUser(){}singleSignOn(){return(0,d.of)(!0)}mfaValidate(){return(0,d.of)(!0)}static \u0275fac=function(r){return new(r||t)(e.KVO(oe.Qq))};static \u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ae(t,o){if(1&t&&(e.qex(0),e.j41(1,"app-alert",17),e.EFF(2),e.k0s(),e.bVm()),2&t){const n=e.XpG();e.R7$(2),e.JRh(n.errorMessage)}}let ie=(()=>{class t{authService;socialService;isLoading$=(0,d.of)(!1);unsubscribers=[];errorMessage="";form=new a.gE({document:new a.MJ(null,[a.k0.required,u.hasDocumentFormat,u.messages({required:"O documento \xe9 obrigat\xf3rio!",hasDocumentFormat:"Precisa ser um documento com formato v\xe1lido!"})]),password:new a.MJ(null,[a.k0.required,u.password,u.messages({required:"A senha \xe9 obrigat\xf3ria",password:"A senha precisa conter no m\xedmo 8 caracteres, um n\xfamero, uma letra maui\xfascula e uma caractere especial."})])});constructor(n,r){this.authService=n,this.socialService=r,this.isLoading$=this.authService.loading$,this.authService.byPass()}ngOnInit(){}ngOnDestroy(){this.unsubscribers.forEach(n=>n.unsubscribe())}signIn(){if(this.form.invalid)return void(this.errorMessage="\xc9 obrigat\xf3rio informar o documento e senha!");const{document:n,password:r}=this.form.value;if(!n)return void(this.errorMessage="\xc9 obrigat\xf3rio informar o documento!");if(!r)return void(this.errorMessage="\xc9 obrigat\xf3rio informar a senha!");this.errorMessage="";const s=this.authService.signIn(n,r).pipe((0,k.s)(1)).subscribe({next:()=>this.authService.byPass(),error:i=>this.errorMessage=i.message||""});this.unsubscribers.push(s)}signWithGoogle(){this.socialService.signInWithGoogle()}static \u0275fac=function(r){return new(r||t)(e.rXU(g.u),e.rXU(T))};static \u0275cmp=e.VBU({type:t,selectors:[["auth-signin"]],decls:26,vars:9,consts:[[1,"row","p-0","m-0","block-center","block-full"],[1,"col-12","pb-5","pt-4","mb-3","form-width"],[1,"col-12","my-4","py-4"],[1,"fw-bold"],[1,"fs-6","text-muted","fw-semibold"],["autocomplete","off",1,"form","m-auto","my-4","py-2",3,"formGroup"],[4,"ngIf"],[1,"mb-4"],["label","E-mail","controlName","email","placeholder","Email",3,"keyup.enter","readonly"],[1,"mb-2"],["label","Senha","type","password","controlName","password","placeholder","Senha",3,"keyup.enter","readonly"],["routerLink","/auth/reset-password",1,"link-primary","fs-7","fw-semibold","m-0","p-0","me-1","d-flex","justify-content-end"],[1,"text-center","my-2"],["size","lg","justify","center",1,"w-100",3,"onclick","loading"],[1,"block-center","fw-semibold","py-4","my-4"],[1,"text-muted","fs-7"],["routerLink","/auth/signup",1,"link-primary","ms-1"],["type","danger"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4,"Bem vindo"),e.k0s(),e.j41(5,"small",4),e.EFF(6,"Entre na sua conta para acessar o sistema"),e.k0s()(),e.j41(7,"form",5),e.DNE(8,ae,3,1,"ng-container",6),e.j41(9,"div",7)(10,"app-input",8),e.nI1(11,"async"),e.bIt("keyup.enter",function(){return s.signIn()}),e.k0s()(),e.j41(12,"div",9)(13,"app-input",10),e.nI1(14,"async"),e.bIt("keyup.enter",function(){return s.signIn()}),e.k0s()(),e.j41(15,"div",7)(16,"a",11),e.EFF(17,"Esqueceu a senha?"),e.k0s()(),e.j41(18,"div",12)(19,"app-button",13),e.bIt("onclick",function(){return s.signIn()}),e.EFF(20,"Entrar"),e.k0s()()(),e.j41(21,"div",14)(22,"span",15),e.EFF(23,"N\xe3o tem uma conta??"),e.j41(24,"a",16),e.EFF(25,"Cadastre-se"),e.k0s()()()()()),2&r&&(e.R7$(7),e.Y8G("formGroup",s.form),e.R7$(),e.Y8G("ngIf",s.errorMessage),e.R7$(2),e.Y8G("readonly",!!e.bMT(11,5,s.isLoading$)),e.R7$(3),e.Y8G("readonly",!!e.bMT(14,7,s.isLoading$)),e.R7$(6),e.Y8G("loading",s.isLoading$))},dependencies:[l.Wk,p.bT,a.qT,a.cb,a.j4,f.Sj,m.Qp,m.Cy,p.Jj],styles:[".form-width[_ngcontent-%COMP%]{max-width:460px}"]})}return t})(),ce=(()=>{class t{authService;isLoading$=(0,d.of)(!1);unsubscribers=[];errorMessage="";form=new a.gE({code:new a.MJ(123456,[a.k0.required])});constructor(n){this.authService=n,this.isLoading$=this.authService.loading$,this.authService.signOut()}ngOnInit(){this.form.get("code")?.valueChanges.pipe((0,y.M)(n=>console.log("CODE: ",n))).subscribe()}ngOnDestroy(){this.unsubscribers.forEach(n=>n.unsubscribe())}static \u0275fac=function(r){return new(r||t)(e.rXU(g.u))};static \u0275cmp=e.VBU({type:t,selectors:[["auth-signout"]],decls:16,vars:0,consts:[[1,"row","p-0","m-0","block-center","block-full"],[1,"col-12","pb-5","pt-4","mb-3",2,"max-width","640px"],[1,"col-12","my-4","py-2"],[1,"fw-bold","text-muted"],[1,"fs-6","text-muted","fw-semibold"],[1,"block-center","fw-semibold","py-4","my-4"],[1,"text-muted","fs-7"],["routerLink","/auth/signin",1,"link-primary","mx-1"],["routerLink","/auth/signup",1,"link-primary","ms-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4,"Obrigado por utilizar nossos servi\xe7os."),e.k0s(),e.j41(5,"small",4),e.EFF(6,"Voc\xea foi desconectado com sucesso. Esperamos que tenha tido uma \xf3tima experi\xeancia em nosso site"),e.k0s()(),e.j41(7,"div",5)(8,"span",6),e.EFF(9,"Voltar para o "),e.j41(10,"a",7),e.EFF(11,"login"),e.k0s(),e.EFF(12," ou "),e.j41(13,"a",8),e.EFF(14,"criar um nova"),e.k0s(),e.EFF(15," conta?"),e.k0s()()()())},dependencies:[l.Wk]})}return t})();function ue(t,o){if(1&t&&(e.qex(0),e.j41(1,"app-alert",21),e.EFF(2),e.k0s(),e.bVm()),2&t){const n=e.XpG();e.R7$(2),e.JRh(n.errorMessage)}}function pe(t,o){if(1&t&&(e.qex(0),e.j41(1,"app-alert",17),e.EFF(2),e.k0s(),e.bVm()),2&t){const n=e.XpG();e.R7$(2),e.JRh(n.errorMessage)}}const de=[{path:"",component:_,children:[{path:"signin",component:ie,data:{returnUrl:window.location.pathname}},{path:"signup",component:(()=>{class t{authService;route;router;isLoading$=(0,d.of)(!1);unsubscribers=[];errorMessage="";returnUrl="";score=0;form=new a.gE({document:new a.MJ(null,[a.k0.required,u.hasDocumentFormat,u.messages({required:"O documento \xe9 obrigat\xf3rio!",hasDocumentFormat:"Precisa ser um documento com formato v\xe1lido!"})]),password:new a.MJ(null,[a.k0.required,u.password,u.messages({required:"A senha \xe9 obrigat\xf3ria"})]),confirmPassword:new a.MJ(null,[a.k0.required,u.matchesControlName("password"),u.messages({required:"A confirma\xe7\xe3o de senha \xe9 obrigat\xf3ria",matchesControlName:"As senha precisam ser id\xeanticas."})]),optin:new a.MJ(!1,[a.k0.required,u.messages({required:"O termo de aceite \xe9 obrigat\xf3rio"})])});constructor(n,r,s){this.authService=n,this.route=r,this.router=s,this.isLoading$=this.authService.loading$,this.authService.byPass()}ngOnInit(){this.changePassword()}ngOnDestroy(){this.unsubscribers.forEach(n=>n.unsubscribe())}changePassword(){this.form.get("password")?.valueChanges.pipe((0,y.M)(n=>this.score=j(n))).subscribe()}signUp(){if(this.form.invalid)return void(this.errorMessage="\xc9 obrigat\xf3rio informar o documento e senha!");const{document:n,password:r,optin:s}=this.form.value;if(!n)return void(this.errorMessage="\xc9 obrigat\xf3rio informar o documento!");if(!r)return void(this.errorMessage="\xc9 obrigat\xf3rio informar a senha!");if(!s)return void(this.errorMessage="\xc9 necess\xe1rio concordar com os termos!");this.errorMessage="";const i=this.authService.signUp(this.form.value).pipe((0,k.s)(1)).subscribe({next:()=>this.router.navigate([this.returnUrl]),error:ge=>this.errorMessage=ge.message||""});this.unsubscribers.push(i)}static \u0275fac=function(r){return new(r||t)(e.rXU(g.u),e.rXU(l.nX),e.rXU(l.Ix))};static \u0275cmp=e.VBU({type:t,selectors:[["auth-signup"]],decls:33,vars:18,consts:[[1,"row","p-0","m-0","block-center","block-full"],[1,"col-12","pb-5","pt-4","mb-3","form-width"],[1,"col-12","my-4","py-4"],[1,"fw-bold"],[1,"fs-6","text-muted","fw-semibold"],[1,"text-danger"],["autocomplete","off",1,"form","m-auto","my-4","py-2",3,"formGroup"],[4,"ngIf"],[1,"mb-4"],["controlName","document","placeholder","Digite o documento",3,"keyup.enter","readonly"],[1,"mb-3"],["type","password","controlName","password","placeholder","Digite a senha",3,"keyup.enter","readonly"],[1,"mb-4","pb-1"],[3,"steps","max","score"],["type","password","controlName","confirmPassword","placeholder","Repita o a senha",3,"keyup.enter","readonly"],["position","end","type","checkbox","controlName","optin","label","Eu concordo com os termos",3,"readonly"],[1,"text-center","my-2"],[3,"onclick","loading"],[1,"block-center","fw-semibold","py-4","my-4"],[1,"text-muted","fs-7"],["routerLink","/auth/signin",1,"link-primary","ms-1"],["type","danger"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4,"Sign Up"),e.k0s(),e.j41(5,"small",4)(6,"span",5),e.EFF(7,"IT"),e.k0s(),e.EFF(8,"Block - Servi\xe7os Tecnol\xf3gicos"),e.k0s()(),e.j41(9,"form",6),e.DNE(10,ue,3,1,"ng-container",7),e.j41(11,"div",8)(12,"app-input",9),e.nI1(13,"async"),e.bIt("keyup.enter",function(){return s.signUp()}),e.k0s()(),e.j41(14,"div",10)(15,"app-input",11),e.nI1(16,"async"),e.bIt("keyup.enter",function(){return s.signUp()}),e.k0s()(),e.j41(17,"div",12),e.nrm(18,"auth-score",13),e.k0s(),e.j41(19,"div",10)(20,"app-input",14),e.nI1(21,"async"),e.bIt("keyup.enter",function(){return s.signUp()}),e.k0s()(),e.j41(22,"div",10),e.nrm(23,"app-input",15),e.nI1(24,"async"),e.k0s(),e.j41(25,"div",16)(26,"app-button",17),e.bIt("onclick",function(){return s.signUp()}),e.EFF(27,"Criar conta"),e.k0s()()(),e.j41(28,"div",18)(29,"span",19),e.EFF(30,"J\xe1 tem uma conta?"),e.j41(31,"a",20),e.EFF(32,"Entrar"),e.k0s()()()()()),2&r&&(e.R7$(9),e.Y8G("formGroup",s.form),e.R7$(),e.Y8G("ngIf",s.errorMessage),e.R7$(2),e.Y8G("readonly",!!e.bMT(13,10,s.isLoading$)),e.R7$(3),e.Y8G("readonly",!!e.bMT(16,12,s.isLoading$)),e.R7$(3),e.Y8G("steps",10)("max",5)("score",s.score),e.R7$(2),e.Y8G("readonly",!!e.bMT(21,14,s.isLoading$)),e.R7$(3),e.Y8G("readonly",!!e.bMT(24,16,s.isLoading$)),e.R7$(3),e.Y8G("loading",s.isLoading$))},dependencies:[l.Wk,p.bT,a.qT,a.cb,a.j4,f.Sj,m.Qp,m.Cy,C,p.Jj],styles:[".form-width[_ngcontent-%COMP%]{max-width:460px}"]})}return t})(),data:{returnUrl:window.location.pathname}},{path:"two-factor",component:(()=>{class t{isLoading$=(0,d.of)(!1);errorMessage="";form=new a.gE({code:new a.MJ(123456,[a.k0.required])});ngOnInit(){this.form.get("code")?.valueChanges.pipe((0,y.M)(n=>console.log("CODE: ",n))).subscribe()}submit(){console.log("SUBMIT")}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=e.VBU({type:t,selectors:[["auth-two-factor"]],decls:26,vars:7,consts:[[1,"row","p-0","m-0","block-center","block-full"],[1,"col-12","pb-5","pt-4","mb-3","form-width"],[1,"col-12","my-4","py-2"],[1,"fw-bold","text-muted"],[1,"fs-6","text-muted","fw-semibold"],[1,"d-flex","gap-3","justify-content-center","my-2"],[1,"text-muted"],["autocomplete","off",1,"form","m-auto","my-4","py-2","row",3,"formGroup"],[4,"ngIf"],[1,"mb-2"],["label","Digite seu c\xf3digo de segura\xe7a de 6 d\xedgitos","type","code","controlName","code","placeholder","Senha","size","xxl",3,"keyup.enter","codeplaces","readonly"],[1,"col-4","m-auto","mt-4","pb-4"],[3,"onclick","loading"],[1,"block-center","fw-semibold","py-4","my-4"],[1,"text-muted","fs-7"],["routerLink","/auth/signup",1,"link-primary","mx-1"],["routerLink","/auth/signup",1,"link-primary","ms-1"],["type","danger"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4,"Verifica\xe7\xe3o de dois fatores"),e.k0s(),e.j41(5,"small",4),e.EFF(6,"Digite o c\xf3digo de verifica\xe7\xe3o que enviamos paras"),e.k0s()(),e.j41(7,"div",5)(8,"h5",6),e.EFF(9,"********7856"),e.k0s()(),e.j41(10,"form",7),e.DNE(11,pe,3,1,"ng-container",8),e.j41(12,"div",9)(13,"app-input",10),e.nI1(14,"async"),e.bIt("keyup.enter",function(){return s.submit()}),e.k0s()(),e.j41(15,"div",11)(16,"app-button",12),e.bIt("onclick",function(){return s.submit()}),e.EFF(17,"Enviar"),e.k0s()()(),e.j41(18,"div",13)(19,"span",14),e.EFF(20,"N\xe3o recebeu o C\xf3digo?"),e.j41(21,"a",15),e.EFF(22,"Reenvie"),e.k0s(),e.EFF(23," ou "),e.j41(24,"a",16),e.EFF(25,"Ligue para n\xf3s"),e.k0s()()()()()),2&r&&(e.R7$(10),e.Y8G("formGroup",s.form),e.R7$(),e.Y8G("ngIf",s.errorMessage),e.R7$(2),e.Y8G("codeplaces",6)("readonly",!!e.bMT(14,5,s.isLoading$)),e.R7$(3),e.Y8G("loading",s.isLoading$))},dependencies:[l.Wk,p.bT,a.qT,a.cb,a.j4,f.Sj,m.Qp,m.Cy,p.Jj],styles:[".form-width[_ngcontent-%COMP%]{max-width:460px}"]})}return t})(),data:{returnUrl:window.location.pathname}},{path:"new-password",component:ee,data:{returnUrl:window.location.pathname}},{path:"reset-password",component:re,data:{returnUrl:window.location.pathname}},{path:"itoken",component:I,data:{returnUrl:window.location.pathname}},{path:"signout",component:ce,data:{returnUrl:window.location.pathname}},{path:"",redirectTo:"signin",pathMatch:"full"},{path:"**",redirectTo:"signin",pathMatch:"full"}]}];let fe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=e.$C({type:t});static \u0275inj=e.G2t({imports:[l.iI.forChild(de),l.iI]})}return t})(),he=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=e.$C({type:t});static \u0275inj=e.G2t({providers:[{provide:"SocialAuthServiceConfig",useValue:T.config()}],imports:[fe,p.MD,M.G]})}return t})()}}]);